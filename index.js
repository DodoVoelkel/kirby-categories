(function () {var a={props:{default:[String,Boolean],defaultFirst:Boolean,limit:Number,prefix:String,label:String,disabled:Boolean,help:String,parent:String,empty:String,value:[Array],name:[String,Number],required:Boolean,type:String},data:function(){return{localValue:this.value}},watch:{value:function(t){this.localValue!==t&&(this.localValue=t)}},computed:{languages:function(){return this.$store.state.languages.all},sortedLanguages:function(){if(!this.defaultFirst)return this.languages;var t=this.languages.find(function(t){return 1==t.default}),e=this.languages.filter(function(t){return!0!==t.default});return e.unshift(t),e},currentLanguage:function(){return this.$store.state.languages.current},currentCode:function(){return this.currentLanguage.code},exists:function(){return this.localValue&&this.localValue.length},isEmpty:function(){return!this.exists||!this.localValue.length},canAdd:function(){return!this.limit||!this.localValue||!this.localValue.length||this.localValue.length<this.limit},newIndex:function(){return this.localValue&&this.localValue.length?this.localValue.length+1:1}},methods:{isCurrent:function(t){return t.code==this.currentCode},addCategory:function(){var t=this,e=this.prefix+this.newIndex,n={id:e,panelIndex:this.newIndex,text:"",translations:{}};this.languages.forEach(function(t){n.translations[t.code]=""}),this.exists?this.localValue=[n].concat(this.localValue):this.localValue=[n],this.onInput(),this.$nextTick(function(){var n=t.$refs[e];n&&n[0].focus()})},removeCategory:function(t){this.localValue=this.localValue.filter(function(e){return e.id!==t}),this.onInput()},onTextInput:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;this.localValue[t].text=e,this.localValue[t].translations[this.currentCode]=e,this.onInput()},onInput:function(){this.$emit("input",this.localValue)},changeLanguage:function(t){this.$store.dispatch("languages/current",t),this.$emit("change",t)}}};if(typeof a==="function"){a=a.options}Object.assign(a,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("k-field",_vm._b({staticClass:"k-categories-field"},"k-field",_vm.$props,false),[_c("template",{slot:"options"},[_vm.canAdd?_c("k-button",{attrs:{"id":_vm._uid,"icon":"add"},on:{"click":_vm.addCategory}},[_vm._v(" "+_vm._s(_vm.$t("add"))+" ")]):_vm._e()],1),_vm._v(" "),_vm.isEmpty?_c("k-empty",{attrs:{"icon":"tag"},on:{"click":_vm.addCategory}},[_vm._v(" "+_vm._s(_vm.empty)+" ")]):_c("div",{staticClass:"k-categories-table"},[_c("div",{staticClass:"k-categories-header"},[_vm._l(_vm.sortedLanguages,function(language){return _c("div",{key:language.code,class:[{disabled:!_vm.isCurrent(language)},"language"],on:{"click":function($event){return _vm.changeLanguage(language)}}},[_vm._v(" "+_vm._s(language.name)+" ")])}),_vm._v(" "),_c("div",{staticClass:"delete-placeholder"})],2),_vm._v(" "),_c("k-draggable",{staticClass:"k-categories-list",attrs:{"list":_vm.localValue,"handle":true,"element":"ul"},on:{"end":_vm.onInput}},_vm._l(_vm.localValue,function(category,catIndex){return _c("li",{staticClass:"k-categories-item"},[_c("k-sort-handle"),_vm._v(" "),_vm._l(_vm.sortedLanguages,function(language,index){return _c("div",{key:language.code,class:["language",{"has-input":_vm.isCurrent(language)}]},[_vm.isCurrent(language)?_c("k-input",{ref:category.id,refInFor:true,attrs:{"type":"text","id":category.id,"theme":"field","value":category.text},on:{"input":function($event){return _vm.onTextInput(catIndex,$event)}}}):_c("div",{staticClass:"disabled"},[_vm._v(_vm._s(category.translations[language.code]))])],1)}),_vm._v(" "),_c("k-button",{attrs:{"icon":"trash"},on:{"click":function($event){return _vm.removeCategory(category.id)}}})],2)}),0)],1)],2)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("sylvainjule/categories",{fields:{categories:a}});})();